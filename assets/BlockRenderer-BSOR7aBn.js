import{j as e}from"./index-oyW5ERYB.js";import{r as w,R as C}from"./dnd-rQwR96rA.js";import{h as B,i as $,j as I,Y as F,k as M,l as T,F as W,M as A,m as _}from"./ui-Cd1OlWl6.js";const D=({content:t,styles:i})=>{const{backgroundColor:r="transparent",textAlign:s="left",fontSize:o="medium",color:l="#000000",fontWeight:c="normal"}=i||{},a=g=>{switch(g){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.25rem";default:return"1rem"}};return e.jsx("div",{style:{backgroundColor:r,padding:"10px"},children:e.jsx("div",{style:{whiteSpace:"pre-wrap",textAlign:s,fontSize:a(o),color:l,fontWeight:c},dangerouslySetInnerHTML:{__html:t.text||"<p>Double click to edit text</p>"}})})},K=({content:t,styles:i})=>{const{src:r,link:s}=t,{backgroundColor:o="transparent",padding:l="0px",borderRadius:c="0px"}=i||{},a=e.jsx("img",{src:r||"https://placehold.co/600x400?text=No+Image",alt:"Block Content",className:"w-full h-auto object-cover",style:{borderRadius:c}});return e.jsx("div",{style:{backgroundColor:o,padding:l},children:s?e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"block cursor-pointer hover:opacity-90 transition-opacity",children:a}):a})},R=({content:t,styles:i})=>e.jsx("div",{style:{...i,padding:"10px"},children:t.src?e.jsx("div",{className:"aspect-video bg-black rounded overflow-hidden",children:e.jsx("iframe",{width:"100%",height:"100%",src:t.src.replace("watch?v=","embed/"),title:"Video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center text-gray-500 rounded",children:"No Video URL"})}),L=({content:t,styles:i})=>{const{title:r,description:s}=t,{backgroundColor:o="transparent",fontSize:l="medium",textAlign:c="center",color:a="#000000"}=i||{},g=m=>{switch(m){case"small":return"1.25rem";case"medium":return"1.5rem";case"large":return"2rem";default:return"1.5rem"}};return e.jsxs("div",{style:{backgroundColor:o,padding:"20px"},children:[e.jsx("h2",{style:{fontSize:g(l),textAlign:c,color:a,fontWeight:"bold",marginBottom:s?"10px":"0"},children:r||"New Block"}),s&&e.jsx("p",{style:{fontSize:"0.875rem",textAlign:c,color:"#666666",whiteSpace:"pre-wrap"},children:s})]})},E=({content:t,styles:i})=>{const{images:r=[]}=t,{interval:s=3,backgroundColor:o="transparent"}=i||{},[l,c]=w.useState(0);w.useEffect(()=>{if(r.length<=1)return;const m=setInterval(()=>{c(d=>(d+1)%r.length)},s*1e3);return()=>clearInterval(m)},[r.length,s]);const a=m=>{m.stopPropagation(),c(d=>(d+1)%r.length)},g=m=>{m.stopPropagation(),c(d=>(d-1+r.length)%r.length)};return r.length?e.jsxs("div",{className:"relative w-full overflow-hidden",style:{backgroundColor:o},children:[e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:r.map((m,d)=>e.jsx("img",{src:m,alt:`Slide ${d+1}`,className:"w-full h-auto object-cover flex-shrink-0"},d))}),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:g,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 text-white p-1 rounded-full hover:bg-black/50 transition-colors",children:e.jsx(B,{size:20})}),e.jsx("button",{onClick:a,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 text-white p-1 rounded-full hover:bg-black/50 transition-colors",children:e.jsx($,{size:20})}),e.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:r.map((m,d)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${d===l?"bg-white":"bg-white/50"}`},d))})]})]}):e.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center text-gray-400",children:"No Image Selected"})},U=({content:t,styles:i})=>{const{title:r="Input Form",buttonText:s="Submit",fields:o=[]}=t,{backgroundColor:l="transparent",textAlign:c="left",fontSize:a="medium",color:g="#000000",fontWeight:m="normal"}=i||{},[d,f]=C.useState({}),n=o.length>0?o:[{label:"이름",placeholder:"이름을 입력하세요",type:"text"},{label:"전화번호",placeholder:"전화번호를 입력하세요",type:"tel"}],x=u=>{const h=(""+u).replace(/\D/g,"");let p;return h.length<=9?h.startsWith("02")?p=h.match(/^(\d{2})(\d{3,4})(\d{4})$/):p=h.match(/^(\d{3})(\d{3})(\d{4})$/):p=h.match(/^(\d{3})(\d{3,4})(\d{4})$/),p?`${p[1]}-${p[2]}-${p[3]}`:u},j=(u,h)=>{let p=u.target.value;if(h==="전화번호"||h.includes("Phone")){const b=p.replace(/\D/g,"");if(b.length>11)return;b.length>=9?p=x(b):p=b}f({...d,[h]:p})},y=u=>{switch(u){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.25rem";default:return"1rem"}};return e.jsxs("div",{style:{backgroundColor:l,padding:"20px"},children:[r&&e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"bold",marginBottom:"1rem",color:"#111827",textAlign:c},children:r}),e.jsxs("form",{className:"space-y-4",onSubmit:u=>{u.preventDefault(),alert("제출되었습니다 (데모)")},children:[n.map((u,h)=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u.label||u.placeholder}),e.jsx("input",{type:u.type||"text",placeholder:u.placeholder||"Enter text...",value:d[u.label]||"",onChange:p=>j(p,u.label),style:{fontSize:y(a),color:g,fontWeight:m,textAlign:c},className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]},h)),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:s})]})]})},H=({content:t,styles:i})=>{const{links:r={}}=t,{backgroundColor:s="transparent",iconColor:o="#333333"}=i||{},l=a=>{switch(a){case"facebook":return e.jsx(W,{size:24});case"instagram":return e.jsx(T,{size:24});case"twitter":return e.jsx(M,{size:24});case"youtube":return e.jsx(F,{size:24});default:return e.jsx(I,{size:24})}},c=Object.keys(r).filter(a=>r[a]);return c.length===0?e.jsx("div",{className:"p-4 text-center text-gray-400 border border-dashed border-gray-200 rounded-lg m-4",children:"No Social Links Added"}):e.jsx("div",{style:{backgroundColor:s,padding:"20px"},className:"flex justify-center gap-6",children:c.map(a=>e.jsx("a",{href:r[a],target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",style:{color:o},children:l(a)},a))})},V=({content:t,styles:i})=>{const{images:r=[]}=t,{backgroundColor:s="transparent",columns:o=2,gap:l=10}=i||{};return r.length?e.jsx("div",{style:{backgroundColor:s,padding:"20px"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${o}, 1fr)`,gap:`${l}px`},children:r.map((c,a)=>e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-gray-100",children:e.jsx("img",{src:c,alt:`Gallery ${a+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})},a))})}):e.jsx("div",{className:"p-8 text-center text-gray-400 bg-gray-50 border border-dashed border-gray-200 rounded-lg",children:"이미지를 추가해주세요"})},Y=({content:t,styles:i})=>{const{name:r="Business Name",description:s="",items:o=[]}=t,{backgroundColor:l="transparent",textAlign:c="left",fontSize:a="medium",color:g="#000000",fontWeight:m="normal"}=i||{},f=(n=>{switch(n){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.25rem";default:return"1rem"}})(a);return e.jsxs("div",{style:{backgroundColor:l,padding:"24px",textAlign:c,color:g},children:[e.jsx("h3",{className:"font-bold mb-2",style:{fontSize:`calc(${f} * 1.25)`},children:r}),s&&e.jsx("p",{className:"mb-6 whitespace-pre-wrap",style:{fontSize:f,fontWeight:m},children:s}),o.length>0&&e.jsx("div",{className:"space-y-3",children:o.map((n,x)=>e.jsxs("div",{className:"flex items-start gap-3",style:{fontSize:f,fontWeight:m},children:[e.jsx("span",{className:"font-semibold min-w-[80px]",children:n.label}),e.jsx("span",{className:"flex-1 whitespace-pre-wrap",children:n.value})]},x))})]})},P=({content:t,styles:i})=>{const{title:r="Schedule",items:s=[]}=t,{backgroundColor:o="transparent",textAlign:l="left",fontSize:c="medium",color:a="#000000",fontWeight:g="normal"}=i||{},d=(n=>{switch(n){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.25rem";default:return"1rem"}})(c),f=n=>{if(!n)return"";const x=new Date(n),j=x.getFullYear(),y=String(x.getMonth()+1).padStart(2,"0"),u=String(x.getDate()).padStart(2,"0"),h=x.getHours(),p=String(x.getMinutes()).padStart(2,"0"),b=h>=12?"오후":"오전",k=h>12?h-12:h===0?12:h;return`${j}. ${y}. ${u}. ${b} ${k}:${p}`};return e.jsxs("div",{style:{backgroundColor:o,padding:"24px",textAlign:l,color:a},children:[r&&e.jsx("h3",{className:"font-bold mb-4 pb-2 border-b border-gray-200",style:{fontSize:`calc(${d} * 1.25)`},children:r}),s.length===0?e.jsx("div",{className:"text-center text-gray-400 py-4",children:"일정을 추가해주세요"}):e.jsx("div",{className:"space-y-3",children:s.map((n,x)=>e.jsxs("div",{className:"border-b border-gray-100 last:border-0 pb-3 last:pb-0",style:{fontSize:d,fontWeight:g},children:[(n.startTime||n.endTime)&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("svg",{className:"w-4 h-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:[n.startTime&&f(n.startTime),n.startTime&&n.endTime&&" ~ ",n.endTime&&f(n.endTime)]})]}),n.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:n.location})]})]},x))})]})},G=({content:t,styles:i})=>{const{placeName:r="강동어울림복지관",address:s="서울시 송파구 올림픽로 57길 9"}=t||{},{backgroundColor:o="transparent"}=i||{},l=encodeURIComponent(s);return e.jsxs("div",{style:{backgroundColor:o,padding:"20px"},children:[e.jsxs("div",{className:"bg-gray-200 rounded-lg overflow-hidden h-64 relative flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/World_map_blank_without_borders.svg')] bg-cover bg-center"}),e.jsxs("div",{className:"z-10 text-center p-4 bg-white/90 backdrop-blur-sm rounded-xl shadow-sm max-w-[80%]",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-full mb-2",children:e.jsx(A,{size:20})}),e.jsx("h3",{className:"font-bold text-gray-900",children:r}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsxs("a",{href:`https://map.naver.com/v5/search/${l}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 bg-[#03C75A] text-white rounded-lg font-bold text-center hover:opacity-90 transition-opacity flex items-center justify-center gap-2 text-sm",children:[e.jsx("span",{className:"w-2 h-2 bg-white rounded-full"}),"네이버지도"]}),e.jsxs("a",{href:`https://map.kakao.com/link/search/${l}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 bg-[#FEE500] text-[#000000] rounded-lg font-bold text-center hover:opacity-90 transition-opacity flex items-center justify-center gap-2 text-sm",children:[e.jsx("span",{className:"w-4 h-4 flex items-center justify-center bg-blue-500 rounded-sm",children:e.jsx("span",{className:"text-[10px] text-white font-bold",children:"K"})}),"카카오맵"]})]})]})},O=({content:t,styles:i})=>{const{shareTitle:r="",shareDescription:s="",shareImage:o="",buttonText:l="카카오톡 공유하기"}=t||{},{backgroundColor:c="transparent",padding:a="20px",buttonColor:g="#FEE500",textColor:m="#000000",borderRadius:d="8px"}=i||{},f=()=>{if(window.Kakao){if(!window.Kakao.isInitialized()){const x="YOUR_KAKAO_JAVASCRIPT_KEY";try{window.Kakao.init(x)}catch(j){console.error("Kakao init failed:",j),alert("카카오톡 SDK 초기화에 실패했습니다.");return}}const n=window.location.href.split("#")[0];window.Kakao.Share.sendDefault({objectType:"feed",content:{title:r||document.title,description:s||"공유된 콘텐츠를 확인해보세요.",imageUrl:o||"",link:{mobileWebUrl:n,webUrl:n}},buttons:[{title:"자세히 보기",link:{mobileWebUrl:n,webUrl:n}}]})}else alert("카카오톡 SDK가 로드되지 않았습니다.")};return e.jsxs("div",{style:{backgroundColor:c,padding:a},className:"flex flex-col items-center",children:[e.jsxs("button",{onClick:f,style:{backgroundColor:g,color:m,borderRadius:d,padding:"12px 24px",fontSize:"16px",fontWeight:"bold",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",width:"100%",maxWidth:"300px",justifyContent:"center"},className:"hover:opacity-90 transition-opacity shadow-sm",children:[e.jsx(_,{size:20}),l]}),e.jsx("div",{className:"mt-2 text-xs text-gray-400 text-center",children:"* 이 블록은 공유하기 썸네일 설정에도 사용됩니다."})]})},q=({content:t,styles:i})=>{const{title:r="Link Button",url:s="#"}=t,{backgroundColor:o="#ffffff",hoverBackgroundColor:l=null,color:c="#000000",fontSize:a="medium",textAlign:g="center",fontWeight:m="normal",borderRadius:d="16px"}=i||{},[f,n]=w.useState(!1),x=y=>{switch(y){case"small":return"1rem";case"medium":return"1.125rem";case"large":return"1.25rem";default:return"1.125rem"}},j=y=>{if(l)return l;if(y.startsWith("#")){const u=y.replace("#",""),h=parseInt(u.substr(0,2),16),p=parseInt(u.substr(2,2),16),b=parseInt(u.substr(4,2),16),v=(h*299+p*587+b*114)/1e3>128?.9:1.1,N=Math.min(255,Math.max(0,Math.floor(h*v))),S=Math.min(255,Math.max(0,Math.floor(p*v))),z=Math.min(255,Math.max(0,Math.floor(b*v)));return`rgb(${N}, ${S}, ${z})`}return y};return e.jsx("div",{style:{padding:"8px 0"},children:e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{display:"block",width:"100%",padding:"18px 24px",backgroundColor:f?j(o):o,color:c,textDecoration:"none",borderRadius:d,fontSize:x(a),fontWeight:m,textAlign:"center",boxShadow:f?"0 8px 16px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.08)",transform:f?"translateY(-3px)":"translateY(0)",transition:"all 0.3s ease",cursor:"pointer",border:"none"},children:r})})},Z=({block:t})=>{switch(t.type){case"text":return e.jsx(D,{content:t.content,styles:t.styles});case"image":return e.jsx(K,{content:t.content,styles:t.styles});case"video":return e.jsx(R,{content:t.content,styles:t.styles});case"head":return e.jsx(L,{content:t.content,styles:t.styles});case"slide":return e.jsx(E,{content:t.content,styles:t.styles});case"form":return e.jsx(U,{content:t.content,styles:t.styles});case"social":return e.jsx(H,{content:t.content,styles:t.styles});case"gallery":return e.jsx(V,{content:t.content,styles:t.styles});case"business":return e.jsx(Y,{content:t.content,styles:t.styles});case"schedule":return e.jsx(P,{content:t.content,styles:t.styles});case"map":return e.jsx(G,{content:t.content,styles:t.styles});case"share":return e.jsx(O,{content:t.content,styles:t.styles});case"link":return e.jsx(q,{content:t.content,styles:t.styles});default:return e.jsxs("div",{className:"p-4 text-center text-gray-400",children:["Unknown Block Type: ",t.type]})}};export{Z as B};
