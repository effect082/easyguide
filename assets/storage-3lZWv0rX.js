const n={getProjects:async()=>{const t=localStorage.getItem("my_projects");return t?JSON.parse(t):[]},saveProject:async t=>{const r=await n.getProjects(),e=r.findIndex(s=>s.id===t.id);let o;e>=0?(o=[...r],o[e]=t):o=[...r,t];try{localStorage.setItem("my_projects",JSON.stringify(o))}catch(s){throw s.name==="QuotaExceededError"?new Error("저장 공간이 부족합니다. 일부 프로젝트를 삭제해주세요."):s}return t},deleteProject:async t=>{const e=(await n.getProjects()).filter(o=>o.id!==t);return localStorage.setItem("my_projects",JSON.stringify(e)),!0},getPublishedContent:async t=>JSON.parse(localStorage.getItem("published_content")||"{}")[t]||null,publishContent:async(t,r)=>{try{const e=JSON.parse(localStorage.getItem("published_content")||"{}");return e[t]=r,localStorage.setItem("published_content",JSON.stringify(e)),r}catch(e){throw e.name==="QuotaExceededError"?new Error("이미지가 너무 커서 게시할 수 없습니다. 이미지 크기를 줄이거나 개수를 줄여주세요."):e}}},c=n;export{c as s};
