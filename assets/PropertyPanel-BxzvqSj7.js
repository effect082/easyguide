import{u as y,j as e}from"./index-Cmp63KMU.js";import{r as g}from"./dnd-rQwR96rA.js";import{d as c,e as v,f as N}from"./ui-CW_nnz6f.js";import"./vendor-23BElR75.js";const R=()=>{const{state:x,dispatch:u}=y(),n=x.blocks.find(t=>t.id===x.selectedBlockId),[l,h]=g.useState({}),[o,p]=g.useState({});g.useEffect(()=>{n&&(h(n.content||{}),p(n.styles||{}))},[n]);const r=(t,a)=>{const s={...l,[t]:a};h(s),u({type:"UPDATE_BLOCK",payload:{id:n.id,updates:{content:s}}})},m=(t,a)=>{const s={...o,[t]:a};p(s),u({type:"UPDATE_BLOCK",payload:{id:n.id,updates:{styles:s}}})},f=()=>{window.confirm("정말 삭제하시겠습니까?")&&u({type:"REMOVE_BLOCK",payload:n.id})},j=t=>{const a=x.blocks.findIndex(d=>d.id===n.id);if(a===-1)return;const s=[...x.blocks];t==="up"&&a>0?[s[a],s[a-1]]=[s[a-1],s[a]]:t==="down"&&a<s.length-1&&([s[a],s[a+1]]=[s[a+1],s[a]]),u({type:"REORDER_BLOCKS",payload:s})},b=(t,a="src")=>{const s=t.target.files[0];if(s){const d=new FileReader;d.onloadend=()=>{r(a,d.result)},d.readAsDataURL(s)}};return n?e.jsxs("div",{className:"p-4 h-full overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:[n.type," 속성"]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:f,className:"text-red-500 hover:bg-red-50 p-1 rounded",children:e.jsx(c,{size:16})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"블록 배경 색상"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:o.backgroundColor||"#ffffff",onChange:t=>m("backgroundColor",t.target.value),className:"w-8 h-8 p-0 border rounded cursor-pointer"}),e.jsx("span",{className:"text-xs text-gray-400",children:o.backgroundColor==="transparent"?"투명":o.backgroundColor})]})]}),n.type==="text"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"텍스트 내용 (HTML)"}),e.jsx("textarea",{value:l.text||"",onChange:t=>r("text",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md h-32 text-sm font-mono"})]}),n.type==="head"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"제목"}),e.jsx("input",{type:"text",value:l.title||"",onChange:t=>r("title",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),e.jsx("textarea",{value:l.description||"",onChange:t=>r("description",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm h-20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"폰트 크기"}),e.jsxs("select",{value:o.fontSize||"medium",onChange:t=>m("fontSize",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{value:"small",children:"작게 (20px)"}),e.jsx("option",{value:"medium",children:"보통 (24px)"}),e.jsx("option",{value:"large",children:"크게 (32px)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"정렬"}),e.jsxs("select",{value:o.textAlign||"center",onChange:t=>m("textAlign",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{value:"left",children:"왼쪽"}),e.jsx("option",{value:"center",children:"중앙"}),e.jsx("option",{value:"right",children:"오른쪽"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"텍스트 색상"}),e.jsx("input",{type:"color",value:o.color||"#000000",onChange:t=>m("color",t.target.value),className:"w-full h-8 p-0 border rounded cursor-pointer"})]})]}),n.type==="image"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이미지 업로드"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>b(t,"src"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"또는 이미지 URL 입력"}),e.jsx("input",{type:"text",value:l.src||"",onChange:t=>r("src",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"링크 URL (선택사항)"}),e.jsx("input",{type:"text",value:l.link||"",onChange:t=>r("link",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"https://..."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"이미지를 클릭했을 때 이동할 URL을 입력하세요"})]})]}),n.type==="video"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"영상 업로드"}),e.jsx("input",{type:"file",accept:"video/*",onChange:t=>b(t,"src"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"또는 영상 URL 입력"}),e.jsx("input",{type:"text",value:l.src||"",onChange:t=>r("src",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"https://..."})]})]}),n.type==="slide"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"슬라이드 전환 간격 (초)"}),e.jsx("input",{type:"number",value:o.interval||3,onChange:t=>m("interval",parseInt(t.target.value)),className:"w-full p-2 border border-gray-300 rounded-md text-sm",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"슬라이드 이미지"}),(l.images||[]).map((t,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:t,onChange:s=>{const d=[...l.images||[]];d[a]=s.target.value,r("images",d)},className:"flex-1 p-2 border border-gray-300 rounded-md text-sm"}),e.jsx("button",{onClick:()=>{const s=l.images.filter((d,i)=>i!==a);r("images",s)},className:"text-red-500 hover:bg-red-50 p-2 rounded",children:e.jsx(c,{size:16})})]},a)),e.jsx("button",{onClick:()=>r("images",[...l.images||[],""]),className:"w-full py-2 bg-blue-50 text-blue-600 rounded-md text-sm font-medium hover:bg-blue-100",children:"+ 슬라이드 추가"})]})]}),n.type==="form"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"폼 제목"}),e.jsx("input",{type:"text",value:l.title||"",onChange:t=>r("title",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"버튼 텍스트"}),e.jsx("input",{type:"text",value:l.buttonText||"Submit",onChange:t=>r("buttonText",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"입력 필드"}),(l.fields||[]).map((t,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",placeholder:"Placeholder",value:t.placeholder||"",onChange:s=>{const d=[...l.fields||[]];d[a]={...t,placeholder:s.target.value},r("fields",d)},className:"flex-1 p-2 border border-gray-300 rounded-md text-sm"}),e.jsx("button",{onClick:()=>{const s=l.fields.filter((d,i)=>i!==a);r("fields",s)},className:"text-red-500 hover:bg-red-50 p-2 rounded",children:e.jsx(c,{size:16})})]},a)),e.jsx("button",{onClick:()=>r("fields",[...l.fields||[],{placeholder:""}]),className:"w-full py-2 bg-blue-50 text-blue-600 rounded-md text-sm font-medium hover:bg-blue-100",children:"+ 입력 필드 추가"})]})]}),n.type==="social"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"아이콘 색상"}),e.jsx("input",{type:"color",value:o.iconColor||"#333333",onChange:t=>m("iconColor",t.target.value),className:"w-full h-8 p-0 border rounded cursor-pointer"})]}),e.jsx("div",{className:"space-y-3",children:["facebook","instagram","twitter","youtube","website"].map(t=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1 capitalize",children:t}),e.jsx("input",{type:"text",value:l.links&&l.links[t]||"",onChange:a=>{const s={...l.links||{},[t]:a.target.value};r("links",s)},className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:`https://${t}.com/...`})]},t))})]}),n.type==="gallery"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"열 개수 (Columns)"}),e.jsxs("select",{value:o.columns||2,onChange:t=>m("columns",parseInt(t.target.value)),className:"w-full p-2 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{value:"1",children:"1열"}),e.jsx("option",{value:"2",children:"2열"}),e.jsx("option",{value:"3",children:"3열"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"갤러리 이미지 관리"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"이미지 업로드"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{const a=t.target.files[0];if(a){const s=new FileReader;s.onloadend=()=>{r("images",[...l.images||[],s.result])},s.readAsDataURL(a)}},className:"w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:text-xs file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),(l.images||[]).map((t,a)=>e.jsxs("div",{className:"flex gap-2 mb-2 items-center",children:[e.jsx("img",{src:t,alt:"",className:"w-8 h-8 object-cover rounded border"}),e.jsx("input",{type:"text",value:t,onChange:s=>{const d=[...l.images||[]];d[a]=s.target.value,r("images",d)},className:"flex-1 p-1 border border-gray-300 rounded text-xs",placeholder:"Image URL"}),e.jsx("button",{onClick:()=>{const s=l.images.filter((d,i)=>i!==a);r("images",s)},className:"text-red-500 hover:bg-red-50 p-1 rounded",children:e.jsx(c,{size:14})})]},a)),e.jsx("button",{onClick:()=>r("images",[...l.images||[],""]),className:"w-full py-2 bg-gray-50 text-gray-600 rounded-md text-xs hover:bg-gray-100 mt-2",children:"+ URL로 이미지 추가"})]})]}),n.type==="business"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사업명"}),e.jsx("input",{type:"text",value:l.name||"",onChange:t=>r("name",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"예: 노인복지 프로그램"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사업 설명"}),e.jsx("textarea",{value:l.description||"",onChange:t=>r("description",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm h-20",placeholder:"사업에 대한 상세 설명을 입력하세요."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"상세 항목 (이용 대상, 이용료 등)"}),e.jsx("button",{onClick:()=>r("items",[...l.items||[],{label:"",value:""}]),className:"px-2 py-1 bg-green-50 text-green-600 rounded text-xs hover:bg-green-100",children:"+ 추가"})]}),(l.items||[]).length===0&&e.jsx("p",{className:"text-xs text-gray-400 text-center py-2 bg-gray-50 rounded",children:'상세 항목이 없습니다. "+ 추가" 버튼을 클릭하여 항목을 추가하세요.'}),(l.items||[]).map((t,a)=>e.jsxs("div",{className:"mb-2 p-2 border border-gray-100 rounded bg-gray-50",children:[e.jsxs("div",{className:"flex gap-2 mb-1",children:[e.jsx("input",{type:"text",placeholder:"항목명 (예: 이용대상)",value:t.label,onChange:s=>{const d=[...l.items||[]];d[a]={...t,label:s.target.value},r("items",d)},className:"w-1/3 p-1 border border-gray-300 rounded text-xs font-bold"}),e.jsx("button",{onClick:()=>{const s=l.items.filter((d,i)=>i!==a);r("items",s)},className:"ml-auto text-red-500 hover:bg-red-50 p-1 rounded",children:e.jsx(c,{size:14})})]}),e.jsx("textarea",{placeholder:"내용을 입력하세요",value:t.value,onChange:s=>{const d=[...l.items||[]];d[a]={...t,value:s.target.value},r("items",d)},className:"w-full p-1 border border-gray-300 rounded text-xs h-16"})]},a))]})]}),n.type==="schedule"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"일정 제목"}),e.jsx("input",{type:"text",value:l.title||"",onChange:t=>r("title",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"예: 결혼식, 돌잔치, 모임"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"상세 항목"}),(l.items||[]).map((t,a)=>e.jsxs("div",{className:"mb-2 p-2 border border-gray-100 rounded bg-gray-50 relative",children:[e.jsx("button",{onClick:()=>{const s=l.items.filter((d,i)=>i!==a);r("items",s)},className:"absolute top-1 right-1 text-red-500 hover:bg-red-50 p-1 rounded",children:e.jsx(c,{size:14})}),e.jsxs("div",{className:"flex gap-2 mb-1 pr-6",children:[e.jsx("input",{type:"text",placeholder:"시간 (예: 14:00)",value:t.time,onChange:s=>{const d=[...l.items||[]];d[a]={...t,time:s.target.value},r("items",d)},className:"w-1/3 p-1 border border-gray-300 rounded text-xs font-bold"}),e.jsx("input",{type:"text",placeholder:"이벤트명 (예: 본식 시작)",value:t.event,onChange:s=>{const d=[...l.items||[]];d[a]={...t,event:s.target.value},r("items",d)},className:"flex-1 p-1 border border-gray-300 rounded text-xs"})]}),e.jsx("textarea",{placeholder:"설명 (선택사항)",value:t.description||"",onChange:s=>{const d=[...l.items||[]];d[a]={...t,description:s.target.value},r("items",d)},className:"w-full p-1 border border-gray-300 rounded text-xs h-12"})]},a)),e.jsx("button",{onClick:()=>r("items",[...l.items||[],{time:"",event:"",description:""}]),className:"w-full py-2 border border-blue-200 text-blue-600 rounded-md text-xs hover:bg-blue-50 mt-2",children:"+ 항목 추가하기"})]})]}),n.type==="map"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"장소명"}),e.jsx("input",{type:"text",value:l.placeName||"",onChange:t=>r("placeName",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"예: 중앙공원"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주소"}),e.jsx("input",{type:"text",value:l.address||"",onChange:t=>r("address",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"예: 서울시 강남구 테헤란로 123"})]})]}),n.type==="share"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"콘텐츠 유형"}),e.jsxs("select",{value:l.shareType||"뉴스레터",onChange:t=>r("shareType",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{value:"뉴스레터",children:"뉴스레터"}),e.jsx("option",{value:"홍보",children:"홍보"}),e.jsx("option",{value:"초대장",children:"초대장"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"제목"}),e.jsx("input",{type:"text",value:l.shareTitle||"",onChange:t=>r("shareTitle",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"예: 강동어울림복지관 개관 1주년 행사"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),e.jsx("textarea",{value:l.shareDescription||"",onChange:t=>r("shareDescription",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",rows:"4",placeholder:"예: 복지관 개관 1주년 행사에 여러분을 초대합니다."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"썸네일 이미지"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>b(t,"shareImage"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"또는 이미지 URL 입력"}),e.jsx("input",{type:"text",value:l.shareImage||"",onChange:t=>r("shareImage",t.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"https://..."})]})]}),e.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-100",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500 mb-3",children:"블록 관리"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsxs("button",{onClick:()=>j("up"),className:"flex-1 py-2 border border-gray-200 rounded text-sm hover:bg-gray-50 flex justify-center items-center gap-1",children:[e.jsx(v,{size:14})," 위로 이동"]}),e.jsxs("button",{onClick:()=>j("down"),className:"flex-1 py-2 border border-gray-200 rounded text-sm hover:bg-gray-50 flex justify-center items-center gap-1",children:[e.jsx(N,{size:14})," 아래로 이동"]})]}),e.jsx("button",{onClick:f,className:"w-full py-2 bg-red-50 text-red-600 rounded text-sm hover:bg-red-100 font-medium",children:"블록 삭제"})]})]})]}):e.jsx("div",{className:"p-6 text-center text-gray-500",children:e.jsx("p",{children:"편집할 블록을 선택하세요."})})};export{R as default};
