import{j as e}from"./index-CEeDiiaB.js";import{r as k,R as z}from"./dnd-BUy9PPPY.js";import{i as I,j as F,k as M,Y as T,l as W,m as A,F as _,M as D,n as K}from"./ui-Ba_lOO8j.js";const R=({content:t,styles:s})=>{const{backgroundColor:r="transparent",textAlign:n="left",fontSize:c="medium",color:i="#000000",fontWeight:l="normal"}=s||{},a=x=>{switch(x){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.25rem";default:return"1rem"}};return e.jsx("div",{style:{backgroundColor:r,padding:"10px"},children:e.jsx("div",{style:{whiteSpace:"pre-wrap",textAlign:n,fontSize:a(c),color:i,fontWeight:l},dangerouslySetInnerHTML:{__html:t.text||"<p>Double click to edit text</p>"}})})},L=({content:t,styles:s})=>{const{src:r,link:n}=t,{backgroundColor:c="transparent",padding:i="0px",borderRadius:l="0px"}=s||{},a=e.jsx("img",{src:r||"https://placehold.co/600x400?text=No+Image",alt:"Block Content",loading:"lazy",className:"w-full h-auto object-cover",style:{borderRadius:l}});return e.jsx("div",{style:{backgroundColor:c,padding:i},children:n?e.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block cursor-pointer hover:opacity-90 transition-opacity",children:a}):a})},E=({content:t,styles:s})=>e.jsx("div",{style:{...s,padding:"10px"},children:t.src?e.jsx("div",{className:"aspect-video bg-black rounded overflow-hidden",children:e.jsx("iframe",{width:"100%",height:"100%",src:t.src.replace("watch?v=","embed/"),title:"Video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center text-gray-500 rounded",children:"No Video URL"})}),U=({content:t,styles:s})=>{const{title:r,description:n}=t,{backgroundColor:c="transparent",fontSize:i="medium",textAlign:l="center",color:a="#000000"}=s||{},x=m=>{switch(m){case"small":return"1.25rem";case"medium":return"1.5rem";case"large":return"2rem";default:return"1.5rem"}};return e.jsxs("div",{style:{backgroundColor:c,padding:"20px"},children:[e.jsx("h2",{style:{fontSize:x(i),textAlign:l,color:a,fontWeight:"bold",marginBottom:n?"10px":"0"},children:r||"New Block"}),n&&e.jsx("p",{style:{fontSize:"0.875rem",textAlign:l,color:"#666666",whiteSpace:"pre-wrap"},children:n})]})},H=({content:t,styles:s})=>{const{images:r=[]}=t,{interval:n=3,backgroundColor:c="transparent"}=s||{},[i,l]=k.useState(0);k.useEffect(()=>{if(r.length<=1)return;const m=setInterval(()=>{l(u=>(u+1)%r.length)},n*1e3);return()=>clearInterval(m)},[r.length,n]);const a=m=>{m.stopPropagation(),l(u=>(u+1)%r.length)},x=m=>{m.stopPropagation(),l(u=>(u-1+r.length)%r.length)};return r.length?e.jsxs("div",{className:"relative w-full overflow-hidden",style:{backgroundColor:c},children:[e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${i*100}%)`},children:r.map((m,u)=>e.jsx("img",{src:m,alt:`Slide ${u+1}`,loading:"lazy",className:"w-full h-auto object-cover flex-shrink-0"},u))}),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:x,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 text-white p-1 rounded-full hover:bg-black/50 transition-colors",children:e.jsx(I,{size:20})}),e.jsx("button",{onClick:a,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 text-white p-1 rounded-full hover:bg-black/50 transition-colors",children:e.jsx(F,{size:20})}),e.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:r.map((m,u)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${u===i?"bg-white":"bg-white/50"}`},u))})]})]}):e.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center text-gray-400",children:"No Image Selected"})},V=({content:t,styles:s})=>{const{title:r="Input Form",buttonText:n="Submit",fields:c=[]}=t,{backgroundColor:i="transparent",textAlign:l="left",fontSize:a="medium",color:x="#000000",fontWeight:m="normal"}=s||{},[u,f]=z.useState({}),o=c.length>0?c:[{label:"이름",placeholder:"이름을 입력하세요",type:"text"},{label:"전화번호",placeholder:"전화번호를 입력하세요",type:"tel"}],g=h=>{const p=(""+h).replace(/\D/g,"");let d;return p.length<=9?p.startsWith("02")?d=p.match(/^(\d{2})(\d{3,4})(\d{4})$/):d=p.match(/^(\d{3})(\d{3})(\d{4})$/):d=p.match(/^(\d{3})(\d{3,4})(\d{4})$/),d?`${d[1]}-${d[2]}-${d[3]}`:h},b=(h,p)=>{let d=h.target.value;if(p==="전화번호"||p.includes("Phone")){const y=d.replace(/\D/g,"");if(y.length>11)return;y.length>=9?d=g(y):d=y}f({...u,[p]:d})},j=h=>{switch(h){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.25rem";default:return"1rem"}};return e.jsxs("div",{style:{backgroundColor:i,padding:"20px"},children:[r&&e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"bold",marginBottom:"1rem",color:"#111827",textAlign:l},children:r}),e.jsxs("form",{className:"space-y-4",onSubmit:h=>{h.preventDefault(),alert("제출되었습니다 (데모)")},children:[o.map((h,p)=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h.label||h.placeholder}),e.jsx("input",{type:h.type||"text",placeholder:h.placeholder||"Enter text...",value:u[h.label]||"",onChange:d=>b(d,h.label),style:{fontSize:j(a),color:x,fontWeight:m,textAlign:l},className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]},p)),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:n})]})]})},O=({content:t,styles:s})=>{const{links:r={}}=t,{backgroundColor:n="transparent",iconColor:c="#333333"}=s||{},i=a=>{switch(a){case"facebook":return e.jsx(_,{size:24});case"instagram":return e.jsx(A,{size:24});case"twitter":return e.jsx(W,{size:24});case"youtube":return e.jsx(T,{size:24});default:return e.jsx(M,{size:24})}},l=Object.keys(r).filter(a=>r[a]);return l.length===0?e.jsx("div",{className:"p-4 text-center text-gray-400 border border-dashed border-gray-200 rounded-lg m-4",children:"No Social Links Added"}):e.jsx("div",{style:{backgroundColor:n,padding:"20px"},className:"flex justify-center gap-6",children:l.map(a=>e.jsx("a",{href:r[a],target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",style:{color:c},children:i(a)},a))})},Y=({content:t,styles:s})=>{const{images:r=[]}=t,{backgroundColor:n="transparent",columns:c=2,gap:i=10}=s||{};return r.length?e.jsx("div",{style:{backgroundColor:n,padding:"20px"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${c}, 1fr)`,gap:`${i}px`},children:r.map((l,a)=>e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-gray-100",children:e.jsx("img",{src:l,alt:`Gallery ${a+1}`,loading:"lazy",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})},a))})}):e.jsx("div",{className:"p-8 text-center text-gray-400 bg-gray-50 border border-dashed border-gray-200 rounded-lg",children:"이미지를 추가해주세요"})},J=({content:t,styles:s})=>{const{name:r="Business Name",description:n="",items:c=[]}=t,{backgroundColor:i="transparent",textAlign:l="left",fontSize:a="medium",color:x="#000000",fontWeight:m="normal"}=s||{},f=(o=>{switch(o){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.25rem";default:return"1rem"}})(a);return e.jsxs("div",{style:{backgroundColor:i,padding:"24px",textAlign:l,color:x},children:[e.jsx("h3",{className:"font-bold mb-2",style:{fontSize:`calc(${f} * 1.25)`},children:r}),n&&e.jsx("p",{className:"mb-6 whitespace-pre-wrap",style:{fontSize:f,fontWeight:m},children:n}),c.length>0&&e.jsx("div",{className:"space-y-3",children:c.map((o,g)=>e.jsxs("div",{className:"flex items-start gap-3",style:{fontSize:f,fontWeight:m},children:[e.jsx("span",{className:"font-semibold min-w-[80px]",children:o.label}),e.jsx("span",{className:"flex-1 whitespace-pre-wrap",children:o.value})]},g))})]})},G=({content:t,styles:s})=>{const{title:r="Schedule",items:n=[]}=t,{backgroundColor:c="transparent",textAlign:i="left",fontSize:l="medium",color:a="#000000",fontWeight:x="normal"}=s||{},u=(o=>{switch(o){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.25rem";default:return"1rem"}})(l),f=o=>{if(!o)return"";const g=new Date(o),b=g.getFullYear(),j=String(g.getMonth()+1).padStart(2,"0"),h=String(g.getDate()).padStart(2,"0"),p=g.getHours(),d=String(g.getMinutes()).padStart(2,"0"),y=p>=12?"오후":"오전",v=p>12?p-12:p===0?12:p;return`${b}. ${j}. ${h}. ${y} ${v}:${d}`};return e.jsxs("div",{style:{backgroundColor:c,padding:"24px",textAlign:i,color:a},children:[r&&e.jsx("h3",{className:"font-bold mb-4 pb-2 border-b border-gray-200",style:{fontSize:`calc(${u} * 1.25)`},children:r}),n.length===0?e.jsx("div",{className:"text-center text-gray-400 py-4",children:"일정을 추가해주세요"}):e.jsx("div",{className:"space-y-3",children:n.map((o,g)=>e.jsxs("div",{className:"border-b border-gray-100 last:border-0 pb-3 last:pb-0",style:{fontSize:u,fontWeight:x},children:[(o.startTime||o.endTime)&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("svg",{className:"w-4 h-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:[o.startTime&&f(o.startTime),o.startTime&&o.endTime&&" ~ ",o.endTime&&f(o.endTime)]})]}),o.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:o.location})]})]},g))})]})},q=({content:t,styles:s})=>{const{placeName:r="강동어울림복지관",address:n="서울시 송파구 올림픽로 57길 9"}=t||{},{backgroundColor:c="transparent"}=s||{},i=encodeURIComponent(n);return e.jsxs("div",{style:{backgroundColor:c,padding:"20px"},children:[e.jsxs("div",{className:"bg-gray-200 rounded-lg overflow-hidden h-64 relative flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/World_map_blank_without_borders.svg')] bg-cover bg-center"}),e.jsxs("div",{className:"z-10 text-center p-4 bg-white/90 backdrop-blur-sm rounded-xl shadow-sm max-w-[80%]",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-full mb-2",children:e.jsx(D,{size:20})}),e.jsx("h3",{className:"font-bold text-gray-900",children:r}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsxs("a",{href:`https://map.naver.com/v5/search/${i}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 bg-[#03C75A] text-white rounded-lg font-bold text-center hover:opacity-90 transition-opacity flex items-center justify-center gap-2 text-sm",children:[e.jsx("span",{className:"w-2 h-2 bg-white rounded-full"}),"네이버지도"]}),e.jsxs("a",{href:`https://map.kakao.com/link/search/${i}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 bg-[#FEE500] text-[#000000] rounded-lg font-bold text-center hover:opacity-90 transition-opacity flex items-center justify-center gap-2 text-sm",children:[e.jsx("span",{className:"w-4 h-4 flex items-center justify-center bg-blue-500 rounded-sm",children:e.jsx("span",{className:"text-[10px] text-white font-bold",children:"K"})}),"카카오맵"]})]})]})},X=({content:t,styles:s})=>{const{shareTitle:r="",shareDescription:n="",shareImage:c="",buttonText:i="카카오톡 공유하기"}=t||{},{backgroundColor:l="transparent",padding:a="20px",buttonColor:x="#FEE500",textColor:m="#000000",borderRadius:u="8px"}=s||{},f=()=>{if(window.Kakao){if(!window.Kakao.isInitialized()){const g="YOUR_KAKAO_JAVASCRIPT_KEY";try{window.Kakao.init(g)}catch(b){console.error("Kakao init failed:",b),alert("카카오톡 SDK 초기화에 실패했습니다.");return}}const o=window.location.href.split("#")[0];window.Kakao.Share.sendDefault({objectType:"feed",content:{title:r||document.title,description:n||"공유된 콘텐츠를 확인해보세요.",imageUrl:c||"",link:{mobileWebUrl:o,webUrl:o}},buttons:[{title:"자세히 보기",link:{mobileWebUrl:o,webUrl:o}}]})}else alert("카카오톡 SDK가 로드되지 않았습니다.")};return e.jsxs("div",{style:{backgroundColor:l,padding:a},className:"flex flex-col items-center",children:[e.jsxs("button",{onClick:f,style:{backgroundColor:x,color:m,borderRadius:u,padding:"12px 24px",fontSize:"16px",fontWeight:"bold",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",width:"100%",maxWidth:"300px",justifyContent:"center"},className:"hover:opacity-90 transition-opacity shadow-sm",children:[e.jsx(K,{size:20}),i]}),e.jsx("div",{className:"mt-2 text-xs text-gray-400 text-center",children:"* 이 블록은 공유하기 썸네일 설정에도 사용됩니다."})]})},P=({content:t,styles:s,mode:r})=>{const{title:n="Link Button",url:c="#"}=t,{backgroundColor:i="#ffffff",hoverBackgroundColor:l=null,color:a="#000000",fontSize:x="medium",textAlign:m="center",fontWeight:u="normal",borderRadius:f="16px",paddingVertical:o="12px",paddingHorizontal:g="16px"}=s||{},[b,j]=k.useState(!1),h=d=>{switch(d){case"small":return"0.875rem";case"medium":return"1rem";case"large":return"1.125rem";default:return"1rem"}},p=d=>{if(l)return l;if(d.startsWith("#")){const y=d.replace("#",""),v=parseInt(y.substr(0,2),16),N=parseInt(y.substr(2,2),16),S=parseInt(y.substr(4,2),16),w=(v*299+N*587+S*114)/1e3>128?.9:1.1,C=Math.min(255,Math.max(0,Math.floor(v*w))),B=Math.min(255,Math.max(0,Math.floor(N*w))),$=Math.min(255,Math.max(0,Math.floor(S*w)));return`rgb(${C}, ${B}, ${$})`}return d};return e.jsx("div",{style:{padding:"8px 0",marginBottom:"8px"},children:e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",onClick:d=>{r==="edit"&&d.preventDefault()},onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),style:{display:"block",width:"100%",padding:`${o} ${g}`,backgroundColor:b?p(i):i,color:a,textDecoration:"none",borderRadius:f,fontSize:h(x),fontWeight:u,textAlign:"center",boxShadow:b?"0 8px 16px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.08)",transform:b?"translateY(-3px)":"translateY(0)",transition:"all 0.3s ease",cursor:"pointer",border:"none"},children:n})})},Q=({block:t,mode:s})=>{switch(t.type){case"text":return e.jsx(R,{content:t.content,styles:t.styles});case"image":return e.jsx(L,{content:t.content,styles:t.styles});case"video":return e.jsx(E,{content:t.content,styles:t.styles});case"head":return e.jsx(U,{content:t.content,styles:t.styles});case"slide":return e.jsx(H,{content:t.content,styles:t.styles});case"form":return e.jsx(V,{content:t.content,styles:t.styles});case"social":return e.jsx(O,{content:t.content,styles:t.styles});case"gallery":return e.jsx(Y,{content:t.content,styles:t.styles});case"business":return e.jsx(J,{content:t.content,styles:t.styles});case"schedule":return e.jsx(G,{content:t.content,styles:t.styles});case"map":return e.jsx(q,{content:t.content,styles:t.styles});case"share":return e.jsx(X,{content:t.content,styles:t.styles});case"link":return e.jsx(P,{content:t.content,styles:t.styles,mode:s});default:return e.jsxs("div",{className:"p-4 text-center text-gray-400",children:["Unknown Block Type: ",t.type]})}},se=z.memo(Q,(t,s)=>t.block.id===s.block.id&&t.mode===s.mode&&JSON.stringify(t.block.content)===JSON.stringify(s.block.content)&&JSON.stringify(t.block.styles)===JSON.stringify(s.block.styles));export{se as B};
