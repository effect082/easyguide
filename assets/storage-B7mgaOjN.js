const s=async(e,t={})=>{throw new Error("Google Sheets URL is not configured")},a={getProjects:async()=>(await s()).map(t=>({...t,blocks:t.blocks?JSON.parse(t.blocks):[]})),saveProject:async e=>{({...e,blocks:JSON.stringify(e.blocks)});const t=await s("saveProject",{});return{...t,blocks:JSON.parse(t.blocks)}},deleteProject:async e=>(await s("deleteProject",{}),!0),getPublishedContent:async e=>{try{const t=await s("getPublishedContent",{id:e});return t?{...t,blocks:t.blocks?JSON.parse(t.blocks):[],metadata:t.metadata?JSON.parse(t.metadata):{}}:null}catch(t){return console.warn("Faield to get published content",t),null}},publishContent:async(e,t)=>(t.projectId,JSON.stringify(t.blocks),JSON.stringify(t.metadata),t.publishedAt,await s("publishContent",{}),t)},o=a;export{o as s};
